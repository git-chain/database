!function(){function i(e,n){return n?require(e):e.slice?i[t(e)]:function(n,o){e(n={exports:{}}),i[t(o)]=n.exports};function t(n){return n.split("/").slice(-1).toString().replace(".js","")}}var e;"undefined"!=typeof module&&(e=module),i(function(n){"undefined"!=typeof window&&(n.window=window);var o=(n.window||n).Connection||function(){};(o.window=n.window)&&(o.window.Connection=o);try{void 0!==e&&(e.exports=o)}catch(n){}n.exports=o})(i,"./root"),i(function(n){var o=i("./root"),a=(o.window||"").Database||i("./database",1);if(!((a.Connection=o).Database=a).window)try{i("./lib/connection",1)}catch(n){}a.on("opt",function(n){var e,t,o,i,c,r,s;(e=n).connection||(t=e.opt,o=t.peers,!1===t.connection||"undefined"!=typeof process&&"false"==""+(process.env||"").Connection||a.window&&(e.connection={},r=JSON.parse((localStorage||"")[(t.file||"")+"connection/"]||null)||{},Object.keys(r.peers||"").forEach(function(n){(i=o[c=n]=o[c]||{}).id=i.url=c}),(i=o[c="https://gun-rs.iris.to/gun"]=o[c]||{}).id=i.url=c,(s=t.mesh=t.mesh||a.Mesh(e)).way=function(n){if(e.$===n.$||(n._||"").via)s.say(n,t.peers);else{var o=(n.$||"")._;if(o){if(n.get){if(o.connection)return;o.connection={}}s.say(n,t.peers)}else s.say(n,t.peers)}})),this.to.next(n)});n.exports=o})(i,"./connection")}();